<div *ngIf="followingFeed; else loading">
    <ul class="list-group timeline" style="cursor: default">
        <li *ngFor="let feedItem of followingFeed" style="margin: 20px">
            <mat-card class="timeline-body">
                <mat-card-header style="display: flex; justify-content: start">
                    <mat-card-title>
                        <mat-icon *ngIf="feedItem.type == 'followed'">person_add</mat-icon>
                        <mat-icon *ngIf="feedItem.type == 'created'">satellite_alt</mat-icon>
                        <mat-icon *ngIf="feedItem.type == 'tracked'">radar</mat-icon>
                    </mat-card-title>
                </mat-card-header>
                <mat-card-content>
                    <p>
                        <ng-template [ngIf]="feedItem.type == 'created'">
                            <a routerLink="/{{ feedItem.username }}">{{ feedItem.username }}</a> created
                            <a routerLink="/{{ feedItem.username }}/satellites/{{ feedItem.satelliteId }}">{{
                                feedItem.satelliteName
                            }}</a></ng-template
                        >

                        <ng-template [ngIf]="feedItem.type == 'followed'"
                            ><a routerLink="/{{ feedItem.username }}">{{ feedItem.username }}</a> started following
                            <a routerLink="/{{ feedItem.followed }}">{{ feedItem.followed }}</a></ng-template
                        >
                        <ng-template [ngIf]="feedItem.type == 'tracked'"
                            ><a routerLink="/{{ feedItem.username }}">{{ feedItem.username }}</a> started tracking the
                            satellite
                            <a routerLink="/{{ feedItem.createdBy }}/satellites/{{ feedItem.satelliteId }}">{{
                                feedItem.satelliteName
                            }}</a></ng-template
                        >
                    </p>
                </mat-card-content>
                <!-- <mat-card-actions>
                    <button mat-button>LIKE</button>
                    <button mat-button>SHARE</button>
                </mat-card-actions> -->
            </mat-card>
            <div class="timeline-icon">
                <p>&nbsp;</p>
            </div>
            <div class="timeline-time">
                <span class="date"
                    >{{ feedItem.date | date : 'MMMM d y' }} <br />
                    at {{ feedItem.date | date : 'H:mm:ss' }}</span
                >
            </div>
        </li>
    </ul>
</div>

<ng-template #loading>
    <div class="text-center">
        <mat-progress-bar mode="indeterminate"></mat-progress-bar>
    </div>
</ng-template>
